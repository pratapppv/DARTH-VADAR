# Welcome to Darth VADAR- a simple 2.4GHz ISM band FMCW RADAR

Sometime back on early 2019, I took the plunge into RF circuits and the first RF design I've always wanted to do was a simple RADAR. [Hforsten](https://hforsten.com) was a big inspiration for this and he frankly made it seem simple enough.
This post is supposed to be a mix of a tutorial and documentation for whatever RADAR me and a couple of my friends built.

As I wasn't too picky about the range or the resolution, I decided to choose to operate the RADAR at a center frequency of $$f_0 = 2.45GHz$$ and a maximum bandwidth of $$\Delta f = 100MHz$$ setting the RADAR to work completely within the allocated ISM band. As this band is also where WiFi and bluetooth reside, finding chips which were'nt exorbidantly priced was easy. Another advantage of choosing this frequency was that the dielectric loss of FR4 at this frequency was not too high and could be easily used. This meant that no exotic substrates would be required and any standard PCB fab house could make the PCB's.

## Obligatory introduction to FMCW RADAR
An FMCW RADAR is a specific type of RADAR which is most commonly used to determine the distance and velocity of a target. Due to the high propagation velocity of the electromagnetic waves used, the FMCW RADAR is designed to convert the distance into frequency. The measurement of the velocity of the object varies. For the rest of this introduction only the measurement of distance will be considered.

Consider a single object with velocity $$v = 0$$ hence static at a distance $$d$$ from the RADAR. To detect the object, let an EM wave pulse be transmitted to irradiate the object. Due to the finite propagation velocity of an EM wave in free space, the time taken for incidence on the target is $\frac{d}{c}$ where $c$ is the speed of light (medium is considered to be air). For a monostatic RADAR with the transmitter and receiver located at the same position, the cumulative round trip time delay is  $$\frac{2d}{c}$$. As this delay is in the order of nanoseconds, accurate and precise measurement is not feasible. Therefore, let the transmitted pulse be frequency modulated by a sawtooth waveform with a timeperiod $$T_{ch}$$. Therefore the frequency can be written as $ f(t) = f_0 + \frac{BW t}{T_{ch}} $. Now a frequency modulated signal can be written as 

\begin{equation}
   Tx(t) = A_{Tx}cos(\int 2\pi f(t)dt)
\end{equation}

On integrating and substituting the expression, we get $ Tx(t) = A_{Tx}cos(2\pi f_0t + 2\pi \frac{BWt}{T_{ch}}) $. As multiple chirps are transmitted, the $ m^{th} $ chirp will have equation(\eqref{eq:Tx})

\begin{equation}
  Tx(t) = A_{Tx}cos(2\pi f_0t + 2\pi \frac{BW(t - mT_{ch})}{T_{ch}})
  \label{eq:Tx}
\end{equation}

## Transmitter Section
On the outset, a RADAR can be divided into two major RF sections, a transmitter and a receiver. In an FMCW RADAR, the transmitter section transmits a chirp signal, essentially a signal who's frequency varies continuously as a function of time, giving the name Frequency Modulated Continuous Wave RADAR. Depending on the parameters of the target to be measured, an appropriate chirp pattern is chosen. Two of the simplest ones are **Sawtooth and Triangular waveforms**. A sawtooth waveform allows us to determine the range i.e the distance of a static object (target) from the RADAR, while a triangle waveform allows us to determine both the position and speed of the object (target). This chirp is radiated out by an antenna connected to the transmitter. To facilitate all this, the transmitter comprises of the following:
1. Chirp Generator
2. Voltage Controlled Oscillator
3. Power Amplifier
4. Power Divider

 #### Voltage Controlled Oscillator
 For the design, an integrated VCO from Maxim [MAX2750EUA+](https://datasheets.maximintegrated.com/en/ds/MAX2750-MAX2752.pdf) is used. This VCO has a tuning curve where in a voltage of $$+0.4V$$ corresponds to a frequency of 2.4GHz and a voltage of $$+2.4V$$ corresponds to a frequency of 2.5GHz. This tuning curve information is necessary as it will be required in designing the circuitry which is responsible for generating the chirp signal. The output RF signal is at a power level of $$-3dBm$$ at an output impedance of $$50\Omega$$. The VCO being self contained, has no external components apart from a couple of bypass capacitors.

#### Chirp Generator
The chirp generator is a circuit which generates the modulating sawtooth or triangular waveform which feeds the Voltage Controlled Oscillator. For our application, the chirp signal used is triangular in nature. This is generated by integrating a square wave. The square wave is generated by a simple/humble 555 circuit followed by an opamp integrator. This generates a triangular waveform which has a $$V_{min} = 0$$. T

#### Power Amplifier
The output power level of the VCO being at a paltry $$-3dBm$$ is not sufficient to be radiated out. The RADAR Range equation is 
